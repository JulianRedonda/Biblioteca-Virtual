<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="./assets/favicon.jpg" />
    <link rel="stylesheet" href="Css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="Css/styleHeader.css">
    <link rel="stylesheet" href="Css/styleSidebar.css"> 
    <title>Biblioteca Virtual del Instituto Beltrán</title>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <!-- Header fijo -->
    <header class="mi-header">
      <div class="flex-center">
        <a href="index.html">
          <img src="Imagenes/logoBeltran.jpeg" alt="Logo" class="logo-img link-brillo-dual">
        </a>
        <h1 class="header-title">BIBLIOTECA VIRTUAL DEL INSTITUTO BELTRÁN </h1>
      </div>
      <div class="modo-switch">
        <label class="switch">
          <input type="checkbox" id="modoToggle">
          <span class="slider">
            <span class="bi bi-moon icon luna"></span>
            <span class="bi bi-sun  icon sol"></span>
          </span>
        </label>
      </div>
    </header>
    
    <!-- Sidebar para mobile -->
    <nav class="navbar navbar-light bg-light d-lg-none">
      <button class="btn btn-outline-primary ms-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebarMobile">
          <i class="bi bi-journal-text"></i> Categorías 
      </button>
    </nav>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarMobile">
      <div class="offcanvas-header"> 
        <h5 class="offcanvas-title">Catálogo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div> 
      <div class="offcanvas-body"> 
        <ul class="nav flex-column" data-bs-dismiss="offcanvas"> 
          <li><a class="nav-link" href="#" data-src="Categorias/Recomendados.html">Recomendados</a></li> 
          <li><a class="nav-link" href="#" data-src="Categorias/Autoayuda.html">Autoayuda</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Ciencia_Ficcion.html">Ciencia Ficción</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Fantasia.html">Fantasía</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Novelas.html">Novelas</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Policiales.html">Policiales</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Romance.html">Romance</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Suspenso.html">Suspenso</a></li>
          <li><a class="nav-link" href="#" data-src="Categorias/Tecnologia.html">Tecnología</a></li>
        </ul> 
      </div> 
    </div>
    <!-- Sidebar fija -->
    <nav class="sidebar-nav d-none d-lg-block">
      <h5>CATEGORÍAS</h5>
      <ul>
        <li><a class="nav-link" href="#" data-src="Categorias/Recomendados.html">Recomendados</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Autoayuda.html">Autoayuda</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Ciencia_Ficcion.html">Ciencia Ficción</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Fantasia.html">Fantasía</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Novelas.html">Novelas</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Policiales.html">Policiales</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Romance.html">Romance</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Suspenso.html">Suspenso</a></li>
        <li><a class="nav-link" href="#" data-src="Categorias/Tecnologia.html">Tecnología</a></li>
      </ul>
    </nav>

    <!--Content-->
    <div id="contenido" class= "text-center">      
      <div class="carousel-container">
        <div id="carouselPrincipal" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="Imagenes/inst1.jpg" class="d-block w-100" alt="Imagen 1">
            </div>
            <div class="carousel-item">
              <img src="Imagenes/inst2.jpg" class="d-block w-100" alt="Imagen 2">
            </div>
            <div class="carousel-item">
              <img src="Imagenes/inst3.jpg" class="d-block w-100" alt="Imagen 3">
            </div>
          </div>

          <!-- Botones que están sobre las fotos -->
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselPrincipal" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselPrincipal" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
          </button>
        </div>
      </div>

        <!-- Cards de abajo de la foto -->
      <div class="card-group mt-4">
        <div class="card border-secondary">
          <h5>Contacto</h5>
          <p>¿Querés comunicarte con nosotros? Encontrá el formulario acá.</p>
          <a href="#" data-src="Index/contacto.html" class="btn btn-outline-primary w-100 mt-auto link-brillo-dual">Ir a Formulario</a>
        </div>
        <div class="card border-secondary">
          <h5>Recomendados</h5>
          <p>Descubrí los libros más valorados por nuestros estudiantes y docentes.</p>
          <a href="#" data-src="Categorias/Recomendados.html" class="btn btn-outline-success w-100 mt-auto link-brillo-dual">Ver Recomendados</a>
        </div>
        <div class="card border-secondary">
          <h5>Instituto</h5>
          <p>Conocé más del instituto en el siguiente enlace.</p>
          <a href="https://www.ibeltran.com.ar/index.php" target="_blank" class="btn btn-outline-dark w-100 mt-auto link-brillo-dual">Sobre Instituto Beltrán</a>
        </div>
      </div>      
    </div>

    <!-- Script para el content -->
    <script>
      const contenido = document.getElementById('contenido');

      document.addEventListener('click', function(e) {
        const link = e.target.closest('[data-src]');
        if (!link) return;
        e.preventDefault();
        const url = link.getAttribute('data-src');
        fetch(url)
        .then(response => {
          if (!response.ok) throw new Error('No se pudo cargar el contenido');
          return response.text();
        })
        .then(html => {
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, 'text/html');
          const nuevoContenido = doc.querySelector('#contenido');
          if (nuevoContenido) {
            contenido.innerHTML = nuevoContenido.innerHTML;
          } else {
            contenido.innerHTML = html;
          }
        })

        .catch(error => {
          contenido.innerHTML = `<p class="text-danger">Error al cargar la categoría: ${error.message}</p>`;
        });
      });

      const toggleSwitch = document.getElementById('modoToggle');
      const modoGuardado = localStorage.getItem('modo');
      if (modoGuardado === 'oscuro') {
        document.body.classList.add('dark-mode');
        toggleSwitch.checked = true;
      }

      toggleSwitch.addEventListener('change', () => {
        const esOscuro = toggleSwitch.checked;
        document.body.classList.toggle('dark-mode', esOscuro);
        localStorage.setItem('modo', esOscuro ? 'oscuro' : 'claro');
      });
    </script>
  </body>
</html>